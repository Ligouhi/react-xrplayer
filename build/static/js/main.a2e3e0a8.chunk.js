(this["webpackJsonpreact-xrplayer"]=this["webpackJsonpreact-xrplayer"]||[]).push([[0],{38:function(e,n,t){e.exports=t(73)},43:function(e,n,t){},67:function(e,n,t){},68:function(e,n,t){},69:function(e,n,t){},70:function(e,n,t){},71:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),a=t(15),r=t.n(a),c=(t(43),t(2)),l=t(7),s=t(5),d=t(4),u=t(6),h=t(1),p=t(16),m=t(32),f=t(33),v=t.n(f),w={live_configure:""};var g=function e(n){var t=this;Object(c.a)(this,e),this.connect=function(){t.isConnected=!0,t.initSphericalData()},this.disConnect=function(){t.isConnected=!1},this.initSphericalData=function(){var e=new h.Spherical,n=t.camera.position;e.setFromCartesianCoords(n.x,n.y,n.z),t.phi=e.phi,t.theta=e.theta,t.distance=e.radius,t.lon=90-h.Math.radToDeg(t.theta),t.lat=90-h.Math.radToDeg(t.phi)},this.initControlsListener=function(){t.browser=window.navigator.userAgent.toLowerCase(),t.browser.indexOf("mobile")>0?(document.addEventListener("touchstart",t.onTouchstart,!1),document.addEventListener("touchmove",t.onTouchmove,!1),document.addEventListener("touchend",t.onTouchend,!1),document.addEventListener("wheel",t.onDocumentMouseWheel,!1)):(document.addEventListener("mousedown",t.onDocumentMouseDown,!1),document.addEventListener("mousemove",t.onDocumentMouseMove,!1),document.addEventListener("mouseup",t.onDocumentMouseUp,!1),document.addEventListener("wheel",t.onDocumentMouseWheel,!1),document.addEventListener("keydown",t.onDocumentKeyDown,!1),document.addEventListener("keyup",t.onDocumentKeyUp,!1))},this.update=function(){var e=2,n=2;t.onKeyShift&&(e=10,n=10),t.onKeyLeft&&(t.lon-=e),t.onKeyRight&&(t.lon+=e),t.onKeyUp&&(t.lat-=n),t.onKeyDown&&(t.lat+=n),t.isConnected&&t.updateCameraPosition(),t.camera.lookAt(t.camera.target)},this.updateCameraPosition=function(){t.lat=Math.max(-85,Math.min(85,t.lat)),t.phi=h.Math.degToRad(90-t.lat),t.theta=h.Math.degToRad(t.lon),t.camera.position.x=t.distance*Math.sin(t.phi)*Math.cos(t.theta),t.camera.position.y=t.distance*Math.cos(t.phi),t.camera.position.z=t.distance*Math.sin(t.phi)*Math.sin(t.theta)},this.onDocumentMouseDown=function(e){document.pointerLockElement||(e.preventDefault(),console.log("\u9f20\u6807\u70b9\u51fbDown"),t.isUserInteracting=!0,t.onPointerDownPointerX=e.clientX,t.onPointerDownPointerY=e.clientY,t.onPointerDownLon=t.lon,t.onPointerDownLat=t.lat)},this.onDocumentMouseMove=function(e){!0===t.isUserInteracting&&(t.lon=.1*(t.onPointerDownPointerX-e.clientX)+t.onPointerDownLon,t.lat=.1*(t.onPointerDownPointerY-e.clientY)+t.onPointerDownLat),document.pointerLockElement&&(t.lon=.1*e.movementX+t.lon,t.lat=.1*e.movementY+t.lat)},this.onDocumentMouseUp=function(e){t.isUserInteracting=!1},this.onTouchstart=function(e){if(1===e.targetTouches.length){console.log("touch","start"),t.isUserInteracting=!0;var n=e.targetTouches[0];t.onPointerDownPointerX=n.pageX,t.onPointerDownPointerY=n.pageY,t.onPointerDownLon=t.lon,t.onPointerDownLat=t.lat}},this.onTouchmove=function(e){if(!0===t.isUserInteracting){var n=e.targetTouches[0];console.log("touching",n.pageX),t.lon=.1*(parseFloat(t.onPointerDownPointerX)-n.pageX)+t.onPointerDownLon,t.lat=.1*parseFloat(t.onPointerDownPointerY-n.pageY)+t.onPointerDownLat}},this.onTouchend=function(e){t.isUserInteracting=!1},this.onDocumentMouseWheel=function(e){t.distance+=.5*e.deltaY,t.distance<=0?t.distance=0:t.distance>0&&t.distance<1e3?t.innerView||(console.log("\u8fdb\u6765",t.camera.position.y),t.innerView=!0):t.distance>=1e3&&t.distance<=1500?t.innerView&&(console.log("\u51fa\u6765"),t.innerView=!1):t.distance,console.log("distance",t.distance)},this.onDocumentKeyDown=function(e){switch(e.preventDefault(),e.keyCode||e.which||e.charCode){case 65:case 37:t.onKeyLeft=!0,t.onKeyRight=!1;break;case 68:case 39:t.onKeyRight=!0,t.onKeyLeft=!1;break;case 87:case 38:t.onKeyUp=!0,t.onKeyDown=!1;break;case 83:case 40:t.onKeyDown=!0,t.onKeyUp=!1;break;case 16:t.onKeyShift=!0;break;case 81:document.pointerLockElement?document.exitPointerLock():(document.body.requestPointerLock(),t.isUserInteracting=!1)}},this.onDocumentKeyUp=function(e){switch(e.keyCode||e.which||e.charCode){case 65:case 37:t.onKeyLeft=!1;break;case 68:case 39:t.onKeyRight=!1;break;case 87:case 38:t.onKeyUp=!1;break;case 83:case 40:t.onKeyDown=!1;break;case 16:t.onKeyShift=!1}},this.camera=n,this.isConnected=!1,this.isUserInteracting=!1,this.onMouseDownMouseX=0,this.onMouseDownMouseY=0,this.lon=0,this.onMouseDownLon=0,this.lat=0,this.onMouseDownLat=0,this.phi=0,this.theta=0,this.distance=10,this.onPointerDownPointerX=0,this.onPointerDownPointerY=0,this.onPointerDownLon=0,this.onPointerDownLat=0,this.onKeyLeft=!1,this.onKeyRight=!1,this.onKeyUp=!1,this.onKeyDown=!1,this.onKeyShift=!1,this.initControlsListener()},y=t(37),b=t(9),C=function(){function e(n,t){var o=this;Object(c.a)(this,e),this.setPointList=function(e){o.pointList=e,o.initPoints()},this.initPoints=function(){o.pointList=[{phi:-90,theta:-10,name:"infocard"},{phi:32,theta:14,name:"image"},{phi:-153,theta:-44,name:"video"},{phi:67,theta:19,name:"control"},{phi:58,theta:-9,name:"touguasongzi"}],o.pointGroup=new h.Group,o.pointArr=[],o.pointList.forEach((function(e){o.createPoint(e)})),o.scene.add(o.pointGroup),o.bindEvent()},this.contertSph2Rect=function(e,n){return[500*Math.sin(h.Math.degToRad(e))*Math.cos(h.Math.degToRad(n)),500*Math.sin(h.Math.degToRad(e))*Math.sin(h.Math.degToRad(n)),500*Math.cos(h.Math.degToRad(e))]},this.createSpriteShape=function(e,n,t){var o=(new h.TextureLoader).load(e);o.needsUpdate=!0;var i=new h.SpriteMaterial({map:o,transparent:!0,opacity:n,depthTest:!1}),a=new h.Sprite(i);return a.scale.set(2*t,2*t,1),a},this.getBackgroundTexture=function(e,n,t){var o=document.createElement("canvas");document.getElementById("display").appendChild(o),o.width=128,o.height=128;var i=o.getContext("2d");i.fillStyle=e,i.arc(64,64,64,0,2*Math.PI),i.fill();var a=new h.Texture(o);a.needsUpdate=!0;var r=new h.SpriteMaterial({map:a,transparent:!0,opacity:n,depthTest:!1}),c=new h.Sprite(r);return c.scale.set(2*t,2*t,1),c},this.animatePoints=function(e){var n=300;e.children.forEach((function(e){var t=e.scale,o=new b.a.Tween(t).to({x:.8*t.x,y:.8*t.y},500).delay(100),i=new b.a.Tween(t).to({x:1.2*t.x,y:1.2*t.y},500).delay(100);o.chain(i),i.chain(o),o.start(n+=100)}))},this.update=function(){b.a.update()},this.bindEvent=function(){var e=new h.Raycaster;document.addEventListener("click",(function(n){n.preventDefault();var t=new h.Vector2;t.x=n.clientX/window.innerWidth*2-1,t.y=-n.clientY/window.innerHeight*2+1,e.setFromCamera(t,o.camera);var i=e.intersectObjects(o.pointArr);i.length>0&&o.objectClickHandler&&o.objectClickHandler(i)}),!0)},this.scene=n,this.camera=t,this.pointList=[],this.pointGroup=null,this.objectClickHandler=null}return Object(l.a)(e,[{key:"createPoint",value:function(e){var n,t=this.contertSph2Rect(e.phi,e.theta),o=new h.Group;o.name=e.name,(n=o.position).set.apply(n,Object(y.a)(t));var i=this.createSpriteShape("hotspot_video.png",1,16);o.add(i),i=this.getBackgroundTexture("#2d2d2d",.2,20),o.add(i),this.pointArr.push(i),i.name=e.name,this.pointGroup.add(o),this.animatePoints(o)}}]),e}(),k=t(34),j=(t(67),function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=Object(s.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(i)))).onCloseClickListener=function(e){e.preventDefault(),t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"overlay"},i.a.createElement(k.a,{url:this.props.iframeUrl,className:"iframe",loading:"true",allow:"fullscreen",display:"initial"}),i.a.createElement("div",{className:"close",onClick:this.onCloseClickListener}))}}]),n}(o.Component)),E=(t(68),function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=Object(s.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(i)))).onCloseClickListener=function(e){e.preventDefault(),t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},t.onImageClickListenr=function(e){e.preventDefault(),t.props.jumpUrl&&window.open(t.props.jumpUrl,"_blank")},t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return console.log("imageurl",this.props.imageUrl),i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"container"},i.a.createElement("img",{className:"image",onClick:this.onImageClickListenr,src:this.props.imageUrl,alt:""})),i.a.createElement("div",{className:"close",onClick:this.onCloseClickListener}))}}]),n}(o.Component)),D=(t(69),t(12)),L=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(d.a)(n).call(this,e))).loadMp4Video=function(){t.video.src=t.props.videoUrl,t.video.play()},t.loadHlsVideo=function(){D.isSupported()?(console.log("hls","support"),t.hls.loadSource(t.props.videoUrl),t.hls.attachMedia(t.video),t.hls.on(D.Events.MANIFEST_PARSED,(function(){t.video.play(),console.log("videoplay")}))):(console.log("\u8bbe\u5907\u4e0d\u652f\u6301"),alert("\u8bbe\u5907\u4e0d\u652f\u6301"))},t.onCloseClickListener=function(e){e.preventDefault(),t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},t.hls=null,t.video=null,t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.hls=new D,this.video=this.videoNode,this.video.loop=!0,this.video.muted=!0,console.log("videoUrl",this.props.videoUrl),this.video.setAttribute("webkit-playsinline","webkit-playsinline");var e=this.props.videoUrl;e.endsWith(".mp4")?this.loadMp4Video():e.endsWith(".m3u8")&&this.loadHlsVideo()}},{key:"componentWillUnmount",value:function(){this.hls.destroy()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"container "},i.a.createElement("video",{className:"video",controls:!0,ref:function(n){e.videoNode=n}})),i.a.createElement("div",{className:"close",onClick:this.onCloseClickListener}))}}]),n}(o.Component),M=(t(70),function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=Object(s.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(i)))).onCloseClickListener=function(e){e.preventDefault(),t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"control-container "},i.a.createElement("button",null,"\u63a7\u5236\u9762\u677f")),i.a.createElement("div",{className:"close",onClick:this.onCloseClickListener}))}}]),n}(o.Component)),H=function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={infocard_visible:!1},t.getEffect=function(e){return e?"infocard"===e.type?i.a.createElement(j,{onCloseClickHandler:function(){t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},iframeUrl:e.iframeUrl}):"image"===e.type?i.a.createElement(E,{onCloseClickHandler:function(){t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},imageUrl:e.imageUrl,jumpUrl:e.jumpUrl}):"video"===e.type?i.a.createElement(L,{onCloseClickHandler:function(){t.props.onCloseClickHandler&&t.props.onCloseClickHandler()},videoUrl:e.videoUrl}):"control"===e.type?i.a.createElement(M,{onCloseClickHandler:function(){t.props.onCloseClickHandler&&t.props.onCloseClickHandler()}}):"":""},t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.getEffect(this.props.data);return i.a.createElement("div",null,e)}}]),n}(o.Component),O=(t(71),t(35)),S=t.n(O),x=function e(n){var t=this;Object(c.a)(this,e),this.loadObj=function(e){(new S.a).load(e.objUrl,(function(e){t.obj=e,t.display(),console.log("load fbxobj success:",t.obj),t.obj.translateY(-80),t.startAnimation()}),(function(e){console.log("load fbx obj",e.loaded)}),(function(e){console.log("load fbxobj error:",e)}))},this.display=function(){t.scene.add(t.obj);var e=new h.AmbientLight(16777215);t.scene.add(e)},this.remove=function(){t.scene.remove(t.obj),t.mixer=null,t.animationAction=null},this.startAnimation=function(){t.mixer=new h.AnimationMixer(t.obj),t.animationAction=t.mixer.clipAction(t.obj.animations[0]),t.animationAction.play()},this.stopAnimation=function(){t.animationAction&&t.animationAction.stop()},this.update=function(){if(t.mixer){var e=t.clock.getDelta();t.mixer.update(e)}},this.scene=n,this.mixer=null,this.obj=null,this.animationAction=null,this.clock=new h.Clock},P=function e(n){var t=this;Object(c.a)(this,e),this.loadObj=function(e){t.data=e,(new h.ObjectLoader).load(e.objUrl,(function(n){t.obj=n;var o=(new h.TextureLoader).load(e.texture);n.material=new h.MeshBasicMaterial({map:o}),t.scene.add(n),n.scale.set(e.scale,e.scale,e.scale),n.geometry.center()}),(function(e){console.log("loading json obj",e.loaded)}),(function(e){console.log("err",e)}))},this.display=function(){t.scene.add(t.obj)},this.remove=function(){t.scene.remove(t.obj),t.mixer=null,t.animationAction=null},this.scene=n,this.obj=null,this.data=null},U=function e(n){var t=this;Object(c.a)(this,e),this.loadObj=function(e){t.data=e,t.loader=t.getLoader(e),t.loader.loadObj(e)},this.display=function(){t.loader&&t.loader.display()},this.remove=function(){t.loader&&t.loader.remove()},this.startAnimation=function(){t.loader&&"fbx"===t.data.modeFormat&&t.loader.startAnimation()},this.stopAnimation=function(){t.loader&&"fbx"===t.data.modeFormat&&t.loader.stopAnimation()},this.getLoader=function(e){switch(e.modeFormat){case"fbx":return new x(t.scene);case"obj":return new P(t.scene);default:return null}},this.update=function(){t.loader&&"fbx"===t.data.modeFormat&&t.loader.update()},this.scene=n,this.loader=null,this.data=null},A=function e(n,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;Object(c.a)(this,e),this.init=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i={x:o.camera.position.x,y:o.camera.position.y,z:o.camera.position.z,fov:o.camera.fov};o.tween=new b.a.Tween(i).to({x:e.x,y:e.y,z:e.z,fov:e.fov},n).delay(t).easing(b.a.Easing.Quadratic.Out).onUpdate((function(){o.camera.position.x=i.x,o.camera.position.y=i.y,o.camera.position.z=i.z,o.camera.fov=i.fov,o.camera.updateProjectionMatrix()})).onStart((function(){o.onStartHandler&&o.onStartHandler()})).onComplete((function(){o.onCompleteHandler&&o.onCompleteHandler()}))},this.start=function(){o.tween&&o.tween.start()},this.update=function(){b.a.update()},this.camera=n,this.tween=null,this.onCompleteHandler=null,this.onStartHandler=null,this.init(t,i,a)},N=function e(n,t){var o=this;Object(c.a)(this,e),this.toNormalView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.state&&"normal"===o.state||(o.cameraMoveAction=new A(o.camera,{x:0,y:0,z:100,fov:80},e,n),o.cameraMoveAction.onStartHandler=function(){o.controls&&o.controls.disConnect()},o.cameraMoveAction.onCompleteHandler=function(){o.controls&&o.controls.connect(),o.state="planet"},o.cameraMoveAction.start())},this.toPlanetView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.state&&"planet"===o.state||(o.cameraMoveAction=new A(o.camera,{x:0,y:450,z:0,fov:150},e,n),o.cameraMoveAction.onStartHandler=function(){o.controls&&o.controls.disConnect()},o.cameraMoveAction.onCompleteHandler=function(){o.controls&&o.controls.connect(),o.state="planet"},o.cameraMoveAction.start())},this.camera=n,this.state=null,this.controls=t,this.cameraMoveAction=null,this.onCompleteHandler=null,this.onStartHandler=null},T=t(13),V=t(10),F=t.n(V),K=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(d.a)(n).call(this,e))).detectFullScreen=t.detectFullScreen.bind(Object(T.a)(t)),t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){F.a.addEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentWillUnmount",value:function(){F.a.removeEventListener("fullscreenchange",this.detectFullScreen)}},{key:"componentDidUpdate",value:function(){this.handleProps(this.props)}},{key:"handleProps",value:function(e){var n=F.a.fullscreenElement===this.node;n&&!e.enabled?this.leaveFullScreen():!n&&e.enabled&&this.enterFullScreen()}},{key:"detectFullScreen",value:function(){this.props.onChange&&this.props.onChange(F.a.fullscreenElement===this.node)}},{key:"enterFullScreen",value:function(){F.a.fullscreenEnabled&&F.a.requestFullscreen(this.node)}},{key:"leaveFullScreen",value:function(){F.a.fullscreenEnabled&&F.a.exitFullscreen()}},{key:"render",value:function(){var e=this;return this.props.enabled&&["fullscreen"].push("fullscreen-enabled"),console.log("fullscreen",this.props.enabled),i.a.createElement("div",{ref:function(n){return e.node=n},style:this.props.enabled?{height:"100%",width:"100%"}:void 0},this.props.children)}}]),n}(o.Component);K.defaultProps={enabled:!1};var R=K,I=t(19),z=t.n(I),W=function e(n){var t=this;Object(c.a)(this,e),this.initVideoNode=function(){t.containerNode.width=0,t.containerNode.height=0,t.containerNode.loop=!0,t.containerNode.muted=!0,t.containerNode.crossOrigin="anonymous",t.containerNode.setAttribute("webkit-playsinline","webkit-playsinline")},this.getTextureFromVideo=function(e){var n=new h.VideoTexture(e);return n.minFilter=h.LinearFilter,n.format=h.RGBFormat,n},this.loadFlvVideo=function(e){if(t.initVideoNode(),z.a.isSupported()){var n=z.a.createPlayer({type:"flv",url:e});t.videoLoader=n,n.attachMediaElement(t.containerNode),n.load(),n.play()}else console.error("Your browser does not support flvjs"),t.onLoadErrorHandler("\u8bbe\u5907\u4e0d\u652f\u6301FLV");return t.getTextureFromVideo(t.containerNode)},this.loadHlsVideo=function(e){if(t.initVideoNode(),D.isSupported()){var n=new D;t.videoLoader=n,n.loadSource(e),n.attachMedia(t.containerNode),n.on(D.Events.MANIFEST_PARSED,(function(){t.containerNode.play(),t.onLoadSuccessHandler()}))}else console.log("\u8bbe\u5907\u4e0d\u652f\u6301HLS"),t.onLoadErrorHandler("\u8bbe\u5907\u4e0d\u652f\u6301HLS");return t.getTextureFromVideo(t.containerNode)},this.loadMp4Video=function(e){return t.initVideoNode(),t.containerNode.src=e,t.containerNode.load(),t.containerNode.play(),t.getTextureFromVideo(t.containerNode)},this.loadImage=function(e){return(new h.TextureLoader).load(e)},this.unloadFlvVideo=function(){t.videoLoader&&(t.videoLoader.unload(),t.videoLoader.detachMediaElement())},this.unloadHlsVideo=function(){t.videoLoader&&t.videoLoader.destory()},this.containerNode=n,this.onLoadSuccessHandler=null,this.onLoadErrorHandler=null,this.videoLoader=null},Y=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(s.a)(this,Object(d.a)(n).call(this,e))).state={showingEffect:!1,effectData:null,isFullScreen:!1},t.initScene=function(){var e=new h.Scene,n=new h.PerspectiveCamera(150,t.mount.clientWidth/t.mount.clientHeight,.001,1e4),o=new h.WebGLRenderer({antialias:!0});t.renderer=o,n.position.set(0,450,0),n.target=new h.Vector3(0,0,0),t.scene=e,t.camera=n},t.initMesh=function(){var e=new h.SphereGeometry(500,60,40);e.scale(-1,1,1);var n=t.videoNode;t.video=n;var o=new W(n).loadHlsVideo("http://cache.utovr.com/s1e3tzoku70yk8mpa3/L3_5dxsrk4kh56gc4l1_v2.m3u8"),i=new h.MeshBasicMaterial({map:o}),a=new h.Mesh(e,i);t.scene=new h.Scene,t.scene.add(a);var r=new h.AxesHelper(1e3);t.scene.add(r)},t.initEvent=function(){window.addEventListener("resize",t.onWindowResize,!1)},t.initspriteData=function(){t.spriteData=new Map,t.spriteData.set("infocard",{id:"infocard",type:"infocard",iframeUrl:"https://gs.ctrip.com/html5/you/place/14.html"}),t.spriteData.set("image",{id:"image",type:"image",imageUrl:"https://pic-cloud-bupt.oss-cn-beijing.aliyuncs.com/5c882ee6443a5.jpg",jumpUrl:"http://www.youmuvideo.com"}),t.spriteData.set("video",{id:"video",type:"video",videoUrl:"https://video-cloud-bupt.oss-cn-beijing.aliyuncs.com/hangzhou.mp4"}),t.spriteData.set("control",{id:"control",type:"control"})},t.initDisplay=function(){t.initspriteData(),t.spriteShapeHelper=new C(t.scene,t.camera),t.spriteShapeHelper.initPoints(),t.spriteShapeHelper.objectClickHandler=function(e){var n=e[0].object.name;t.spriteData.has(n)&&t.setState({showingEffect:!0,effectData:t.spriteData.get(n)}),console.log(e[0].object.name)},t.centerModelHelper=new U(t.scene),t.centerModelHelper.loadObj({objUrl:"SambaDancing.fbx",texture:"texture1.png",modeFormat:"fbx",scale:1})},t.initAction=function(){t.viewConvertHelper=new N(t.camera,t.innerViewControls),t.viewConvertHelper.toNormalView(8e3,2e3)},t.onWindowResize=function(){t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix(),t.renderer.setSize(window.innerWidth,window.innerHeight)},t.initRenderer=function(){var e=t.renderer;e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e.sortObjects=!1,e.autoClear=!1,t.mount.appendChild(e.domElement)},t.animate=function(){requestAnimationFrame(t.animate),t.innerView?t.innerViewControls&&t.innerViewControls.update():t.controls.update(),t.centerModelHelper&&t.centerModelHelper.update(),b.a.update(),t.renderer.render(t.scene,t.camera)},t.initControls=function(){t.innerViewControls=new g(t.camera),t.innerViewControls.connect()},t.mount=null,t.scene=null,t.camera=null,t.renderer=null,t.controls=null,t.videoNode=null,t.innerView=!0,t.innerViewControls=null,t.spriteShapeHelper=null,t.centerModelHelper=null,t.viewConvertHelper=null,t.spriteData=null,t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.initScene(),this.initMesh(),this.initEvent(),this.initControls(),this.animate(),this.initDisplay(),this.initRenderer(),this.initAction(),this.props.fetchLiveConfigure()}},{key:"componentWillUnmount",value:function(){this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return console.log("redux.data.live_configure",this.props.live_configure),i.a.createElement(R,{enabled:this.state.isFullScreen,onChange:function(n){return e.setState({isFullScreen:n})}},i.a.createElement("div",{style:{width:"100vw",height:"100vh",background:"#888",overflow:"hidden"}},i.a.createElement("div",{id:"canvas",style:{width:"100%",height:"100%",background:"#888"},ref:function(n){e.mount=n}}),this.state.showingEffect?i.a.createElement(H,{data:this.state.effectData,onCloseClickHandler:function(){e.setState({effectData:null})}}):"",i.a.createElement("video",{id:"video",style:{display:"none"},ref:function(n){e.videoNode=n}}),i.a.createElement("div",{id:"display",style:{display:"none"}})))}}]),n}(o.Component),_=Object(p.b)((function(e){return e.basic}),{fetchLiveConfigure:function(e){return function(e){v.a.get("http://114.116.180.115:9000/channel/info/?lid=lc205").then((function(n){var t=n.data;200===t.code&&e(function(e){return{payload:e,type:"GET_LIVE_CONFIGURE"}}(t.data))}))}}})(Y),G=t(11),X=t(36),B=Object(G.c)({basic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_LIVE_CONFIGURE":return Object(m.a)({},e,{live_configure:n.payload});default:return e}}}),q=Object(G.e)(B,Object(G.d)(Object(G.a)(X.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),J=function(){return i.a.createElement(p.a,{store:q},i.a.createElement(_,null))};r.a.render(i.a.createElement(J,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a2e3e0a8.chunk.js.map